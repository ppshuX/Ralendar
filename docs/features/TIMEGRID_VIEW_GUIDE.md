# ğŸ“… æ—¶é—´è½´è§†å›¾ä½¿ç”¨æŒ‡å—

> **æ—¥æœŸ**: 2025-11-09  
> **åŠŸèƒ½**: ç±»ä¼¼è¯¾ç¨‹è¡¨çš„æ—¶é—´è½´è§†å›¾

---

## ğŸ¯ **ä»€ä¹ˆæ˜¯æ—¶é—´è½´è§†å›¾ï¼Ÿ**

æ—¶é—´è½´è§†å›¾ï¼ˆTimeGrid Viewï¼‰æ˜¯ä¸€ç§**ä»¥æ—¶é—´ä¸ºçºµè½´**çš„æ—¥å†è§†å›¾ï¼Œé€‚åˆæ˜¾ç¤ºï¼š
- ğŸ“š è¯¾ç¨‹è¡¨
- ğŸ’¼ å·¥ä½œæ—¥ç¨‹
- ğŸ¥ é¢„çº¦æ—¶é—´
- ğŸ¯ ä¸€å¤©å†…çš„è¯¦ç»†å®‰æ’

---

## ğŸ“± **å‚è€ƒç•Œé¢**

ç±»ä¼¼äºè¯¾ç¨‹è¡¨ App çš„è®¾è®¡ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å‘¨æ—¥ [å‘¨ä¸€] å‘¨äºŒ å‘¨ä¸‰ å‘¨å›› å‘¨äº” å‘¨å…­  â”‚  â† å‘¨å¯¼èˆª
â”‚   09   10   11   12   13   14   15  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 07:00 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚       â”‚ è½¯ä»¶æ¥¼104               â”‚  â”‚
â”‚ 08:00 â”‚ è®¡ç®—æœºç³»ç»ŸåŸºç¡€           â”‚  â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚ 09:00 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ 10:00 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ 11:00 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ 12:00 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ 13:00 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚       â”‚ è½¯ä»¶æ¥¼122               â”‚  â”‚
â”‚ 14:00 â”‚ è½¯ä»¶ç³»ç»Ÿåˆ†æä¸è®¾è®¡      â”‚  â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚ 15:00 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚       â”‚ ä½“è‚²é¦†                  â”‚  â”‚
â”‚ 16:00 â”‚ ä½“è‚²(5)                 â”‚  â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ **å®ç°æ–¹å¼**

### **æ–¹æ¡ˆï¼šä½¿ç”¨ FullCalendar TimeGrid æ’ä»¶**

#### **1. å®‰è£…æ’ä»¶**

```bash
cd web_frontend
npm install @fullcalendar/timegrid
```

#### **2. å¯¼å…¥æ’ä»¶**

```javascript
import timeGridPlugin from '@fullcalendar/timegrid'

const calendarOptions = ref({
  plugins: [da
  yGridPlugin, timeGridPlugin, interactionPlugin],
  // ...
})
```

#### **3. ä¿®æ”¹è§†å›¾æŒ‰é’®**

```javascript
headerToolbar: {
  left: 'prev,next today',
  center: 'title',
  right: 'dayGridMonth,timeGridWeek,timeGridDay'
  //              â†‘            â†‘            â†‘
  //            æœˆè§†å›¾      å‘¨æ—¶é—´è½´    æ—¥æ—¶é—´è½´
}
```

#### **4. é…ç½®æ—¶é—´è½´**

```javascript
// æ—¶é—´è½´å¼€å§‹æ—¶é—´
slotMinTime: '06:00:00',

// æ—¶é—´è½´ç»“æŸæ—¶é—´
slotMaxTime: '23:00:00',

// æ—¶é—´æ ¼å­é—´éš”ï¼ˆ30åˆ†é’Ÿï¼‰
slotDuration: '00:30:00',

// æ—¶é—´æ ¼å¼
slotLabelFormat: {
  hour: '2-digit',
  minute: '2-digit',
  hour12: false  // 24å°æ—¶åˆ¶
},

// ä¸æ˜¾ç¤º"å…¨å¤©"è¡Œ
allDaySlot: false
```

---

## ğŸ“Š **ä¸‰ç§è§†å›¾å¯¹æ¯”**

| è§†å›¾ | æŒ‰é’®æ–‡å­— | FullCalendar ç±»å‹ | ç”¨é€” |
|------|---------|-------------------|------|
| **æœˆè§†å›¾** | æœˆ | `dayGridMonth` | æŸ¥çœ‹æ•´æœˆæ¦‚è§ˆ |
| **å‘¨æ—¶é—´è½´** | å‘¨ | `timeGridWeek` | æŸ¥çœ‹ä¸€å‘¨çš„è¯¦ç»†æ—¶é—´è¡¨ |
| **æ—¥æ—¶é—´è½´** | æ—¥ | `timeGridDay` | æŸ¥çœ‹ä¸€å¤©çš„è¯¦ç»†æ—¶é—´è¡¨ |

---

## ğŸ¨ **æ—¶é—´è½´æ ·å¼è‡ªå®šä¹‰**

### **CSS æ ·å¼**

```css
/* æ—¶é—´è½´å®¹å™¨ */
.fc-timegrid {
  /* è‡ªå®šä¹‰æ ·å¼ */
}

/* æ—¶é—´æ ‡ç­¾ */
.fc-timegrid-slot-label {
  font-size: 12px;
  color: #909399;
}

/* äº‹ä»¶å— */
.fc-timegrid-event {
  border-radius: 8px;
  padding: 4px 8px;
}

/* äº‹ä»¶æ ‡é¢˜ */
.fc-event-title {
  font-weight: 500;
  font-size: 13px;
}

/* äº‹ä»¶æ—¶é—´ */
.fc-event-time {
  font-size: 11px;
  color: rgba(0, 0, 0, 0.6);
}
```

---

## ğŸ“… **å‘¨æ—¶é—´è½´ vs æ—¥æ—¶é—´è½´**

### **å‘¨æ—¶é—´è½´ï¼ˆtimeGridWeekï¼‰**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å‘¨ä¸€   â”‚  å‘¨äºŒ   â”‚  å‘¨ä¸‰   â”‚  å‘¨å››   â”‚
â”‚   10    â”‚   11    â”‚   12    â”‚   13    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 08:00   â”‚         â”‚         â”‚ â”Œâ”€â”€â”€â”€â”€â” â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â” â”‚         â”‚ â”Œâ”€â”€â”€â”€â”€â” â”‚ â”‚è¯¾ç¨‹2â”‚ â”‚
â”‚ â”‚è¯¾ç¨‹1â”‚ â”‚         â”‚ â”‚è¯¾ç¨‹3â”‚ â”‚ â””â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â”‚         â”‚ â””â”€â”€â”€â”€â”€â”˜ â”‚         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç‰¹ç‚¹**ï¼š
- æ¨ªå‘æ˜¾ç¤ºä¸€å‘¨çš„æ—¥æœŸ
- çºµå‘æ˜¾ç¤ºæ—¶é—´è½´
- é€‚åˆå¯¹æ¯”ä¸€å‘¨å†…ä¸åŒå¤©çš„æ—¥ç¨‹

---

### **æ—¥æ—¶é—´è½´ï¼ˆtimeGridDayï¼‰+ å‘¨å¯¼èˆª**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å‘¨æ—¥  [å‘¨ä¸€]  å‘¨äºŒ  å‘¨ä¸‰  å‘¨å››  å‘¨äº”  å‘¨å…­  â”‚  â† ç‚¹å‡»åˆ‡æ¢
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 08:00 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚       â”‚ è¯¾ç¨‹1                   â”‚  â”‚
â”‚ 09:00 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ 10:00 â”‚ è¯¾ç¨‹2                   â”‚  â”‚
â”‚ 11:00 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç‰¹ç‚¹**ï¼š
- åªæ˜¾ç¤ºä¸€å¤©çš„æ—¥ç¨‹
- æ—¶é—´è½´æ›´æ¸…æ™°
- é¡¶éƒ¨æœ‰å‘¨å¯¼èˆªï¼ˆç‚¹å‡» prev/next åˆ‡æ¢æ—¥æœŸï¼‰
- **è¿™å°±æ˜¯ä½ å›¾ç‰‡ä¸­çš„æ•ˆæœï¼**

---

## ğŸ”„ **ç”¨æˆ·äº¤äº’**

### **åœ¨æ—¥è§†å›¾ä¸­åˆ‡æ¢æ—¥æœŸ**

```javascript
// FullCalendar ä¼šè‡ªåŠ¨å¤„ç†
// ç”¨æˆ·ç‚¹å‡» "prev" â†’ å‰ä¸€å¤©
// ç”¨æˆ·ç‚¹å‡» "next" â†’ åä¸€å¤©
// ç”¨æˆ·ç‚¹å‡» "today" â†’ ä»Šå¤©
```

### **è‡ªå®šä¹‰å‘¨å¯¼èˆªï¼ˆå¯é€‰ï¼‰**

å¦‚æœæƒ³è¦å®Œå…¨æ¨¡ä»¿è¯¾ç¨‹è¡¨çš„é¡¶éƒ¨å‘¨é€‰æ‹©å™¨ï¼š

```vue
<template>
  <div class="week-selector">
    <div 
      v-for="day in weekDays" 
      :key="day.date"
      :class="{ active: day.date === selectedDate }"
      @click="selectDate(day.date)"
    >
      <div class="weekday">{{ day.weekday }}</div>
      <div class="date">{{ day.day }}</div>
    </div>
  </div>
  
  <FullCalendar 
    :options="calendarOptions"
    ref="calendar"
  />
</template>

<script setup>
const selectDate = (date) => {
  // è·³è½¬åˆ°æŒ‡å®šæ—¥æœŸ
  calendarRef.value.getApi().gotoDate(date)
}
</script>
```

---

## âš™ï¸ **å®Œæ•´é…ç½®ç¤ºä¾‹**

```javascript
const calendarOptions = ref({
  plugins: [dayGridPlugin, timeGridPlugin, interactionPlugin],
  
  // åˆå§‹è§†å›¾ï¼šæ—¥æ—¶é—´è½´
  initialView: 'timeGridDay',
  
  // å·¥å…·æ 
  headerToolbar: {
    left: 'prev,next today',
    center: 'title',
    right: 'dayGridMonth,timeGridWeek,timeGridDay'
  },
  
  // æŒ‰é’®æ–‡å­—
  buttonText: {
    today: 'ä»Šå¤©',
    month: 'æœˆ',
    week: 'å‘¨',
    day: 'æ—¥'
  },
  
  // æ—¶é—´è½´é…ç½®
  slotMinTime: '06:00:00',      // æ—©ä¸Š6ç‚¹å¼€å§‹
  slotMaxTime: '23:00:00',      // æ™šä¸Š11ç‚¹ç»“æŸ
  slotDuration: '00:30:00',     // æ¯30åˆ†é’Ÿä¸€æ ¼
  slotLabelInterval: '01:00:00', // æ—¶é—´æ ‡ç­¾æ¯å°æ—¶æ˜¾ç¤º
  slotLabelFormat: {
    hour: '2-digit',
    minute: '2-digit',
    hour12: false
  },
  
  // å…¶ä»–é…ç½®
  allDaySlot: false,            // ä¸æ˜¾ç¤ºå…¨å¤©è¡Œ
  nowIndicator: true,           // æ˜¾ç¤ºå½“å‰æ—¶é—´çº¿
  scrollTime: '08:00:00',       // æ»šåŠ¨åˆ°æ—©ä¸Š8ç‚¹
  height: 'auto',
  
  // äº‹ä»¶é…ç½®
  events: [],
  editable: true,
  selectable: true,
  
  // ä¸­æ–‡
  locale: 'zh-cn'
})
```

---

## ğŸ“± **ç§»åŠ¨ç«¯é€‚é…**

### **å“åº”å¼å¸ƒå±€**

```css
/* ç§»åŠ¨ç«¯ï¼šæ—¥è§†å›¾å…¨å± */
@media (max-width: 768px) {
  .fc-timegrid {
    font-size: 12px;
  }
  
  /* æ—¶é—´æ ‡ç­¾æ›´ç´§å‡‘ */
  .fc-timegrid-slot-label {
    padding: 4px 2px;
  }
  
  /* äº‹ä»¶å—æ›´ç´§å‡‘ */
  .fc-timegrid-event {
    padding: 2px 4px;
  }
}
```

---

## ğŸ¯ **äº‹ä»¶æ•°æ®æ ¼å¼**

```javascript
const events = [
  {
    id: 1,
    title: 'è®¡ç®—æœºç³»ç»ŸåŸºç¡€',
    start: '2025-11-10T07:50:00',
    end: '2025-11-10T09:20:00',
    location: 'è½¯ä»¶æ¥¼104',
    backgroundColor: '#ffebee',
    borderColor: '#ef5350',
    textColor: '#333'
  },
  {
    id: 2,
    title: 'è½¯ä»¶ç³»ç»Ÿåˆ†æä¸è®¾è®¡',
    start: '2025-11-10T13:50:00',
    end: '2025-11-10T15:20:00',
    location: 'è½¯ä»¶æ¥¼122',
    backgroundColor: '#fff3e0',
    borderColor: '#ff9800',
    textColor: '#333'
  },
  {
    id: 3,
    title: 'ä½“è‚²(5)',
    start: '2025-11-10T15:40:00',
    end: '2025-11-10T17:10:00',
    location: 'æš‚æ— åœ°ç‚¹',
    backgroundColor: '#ffebee',
    borderColor: '#ef5350',
    textColor: '#333'
  }
]
```

---

## ğŸš€ **å®æ–½æ­¥éª¤**

### **Step 1: å®‰è£…æ’ä»¶**
```bash
cd web_frontend
npm install @fullcalendar/timegrid
```

### **Step 2: ä¿®æ”¹ä»£ç **
- ä¿®æ”¹ `useCalendarEvents.js`
- æ·»åŠ  `timeGridPlugin`
- æ›´æ–°è§†å›¾é…ç½®

### **Step 3: æµ‹è¯•**
```bash
npm run dev
```

### **Step 4: éƒ¨ç½²**
```bash
npm run build
git add .
git commit -m "feat: add timegrid view (day/week timeline)"
git push
```

---

## ğŸ“Š **ä¼˜ç¼ºç‚¹å¯¹æ¯”**

### **FullCalendar TimeGrid è§†å›¾**

**ä¼˜ç‚¹** âœ…:
- å¼€ç®±å³ç”¨ï¼ŒåŠŸèƒ½å®Œæ•´
- è‡ªåŠ¨å¤„ç†æ—¶é—´è®¡ç®—
- æ”¯æŒæ‹–æ‹½è°ƒæ•´äº‹ä»¶æ—¶é—´
- è‡ªå¸¦å“åº”å¼
- æ–‡æ¡£å®Œå–„

**ç¼ºç‚¹** âŒ:
- æ ·å¼å®šåˆ¶éœ€è¦è¦†ç›– CSS
- é¡¶éƒ¨å‘¨å¯¼èˆªä¸å¦‚è¯¾ç¨‹è¡¨ App é‚£ä¹ˆæ˜æ˜¾

### **è‡ªå®šä¹‰ç»„ä»¶**

**ä¼˜ç‚¹** âœ…:
- å®Œå…¨æ§åˆ¶æ ·å¼
- å¯ä»¥å®Œç¾æ¨¡ä»¿è¯¾ç¨‹è¡¨ App

**ç¼ºç‚¹** âŒ:
- éœ€è¦è‡ªå·±å®ç°æ‰€æœ‰é€»è¾‘
- å·¥ä½œé‡å¤§
- å®¹æ˜“æœ‰ bug

---

## ğŸ¯ **æ¨èæ–¹æ¡ˆ**

**é˜¶æ®µ 1**: ä½¿ç”¨ FullCalendar TimeGrid è§†å›¾
- å¿«é€Ÿå®ç°
- åŠŸèƒ½å®Œæ•´
- æ»¡è¶³åŸºæœ¬éœ€æ±‚

**é˜¶æ®µ 2**ï¼ˆå¯é€‰ï¼‰: è‡ªå®šä¹‰é¡¶éƒ¨å‘¨å¯¼èˆª
- æ·»åŠ æ›´æ˜æ˜¾çš„å‘¨é€‰æ‹©å™¨
- å®Œå…¨æ¨¡ä»¿è¯¾ç¨‹è¡¨æ ·å¼

---

## ğŸ“ **éœ€è¦å¸®åŠ©ï¼Ÿ**

å¦‚æœä½ æƒ³å®ç°ï¼š
1. âœ… **TimeGrid è§†å›¾** - æˆ‘ç°åœ¨å°±å¯ä»¥å¸®ä½ å®ç°
2. âœ… **è‡ªå®šä¹‰å‘¨å¯¼èˆª** - å¯ä»¥ä½œä¸ºå¢å¼ºåŠŸèƒ½
3. âœ… **æ ·å¼ç¾åŒ–** - è°ƒæ•´æˆè¯¾ç¨‹è¡¨é£æ ¼

---

**å‡†å¤‡å¥½å®ç°äº†å—ï¼Ÿ** ğŸš€

